<!DOCTYPE html> <html lang="en" dir="auto"> <head><meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=no"> <meta name="description" content="Deployment with Helm Table of contents Deployment with Helm Prerequisites Deployment Configuration Uninstalling the chart Chart parameters General ..."> <meta name="revised" content=""> <meta name="author" content="Kubernetes SIGs"> <meta name="generator" content="rundocs/jekyll-rtd-theme v2.0.10"><meta name="theme-color" content="#2980b9"> <title>Helm · Node Feature Discovery Operator</title> <meta name="twitter:title" content="Helm · Node Feature Discovery Operator"> <meta name="twitter:description" content="Deployment with Helm Table of contents Deployment with Helm Prerequisites Deployment Configuration Uninstalling the chart Chart parameters General ..."> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@Kubernetes SIGs"> <meta name="twitter:url" content="https://kubernetes-sigs.github.com/node-feature-discovery-operator/master/deployment/helm.html"> <meta name="twitter:creator" content="@rundocs/jekyll-rtd-theme v2.0.10"> <meta property="og:title" content="Helm · Node Feature Discovery Operator"> <meta property="og:description" content="Deployment with Helm Table of contents Deployment with Helm Prerequisites Deployment Configuration Uninstalling the chart Chart parameters General ..."> <meta property="og:locale" content="en"> <meta property="og:url" content="https://kubernetes-sigs.github.com/node-feature-discovery-operator/master/deployment/helm.html"> <meta property="og:type" content="article"> <meta property="article:author" content="Kubernetes SIGs"> <meta property="article:published_time" content="2019-06-26T01:15:19-05:00"> <meta property="article:modified_time" content="2024-04-17T01:51:25-05:00"> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "Article", "mainEntityOfPage": { "@type": "WebPage", "@id": "https://kubernetes-sigs.github.com/node-feature-discovery-operator/master/deployment/helm.html" }, "headline": "Helm · Node Feature Discovery Operator", "image": [], "author": { "@type": "Person", "name": "Kubernetes SIGs" }, "datePublished": "2019-06-26T01:15:19-05:00", "dateModified": "2024-04-17T01:51:25-05:00", "publisher": { "@type": "Organization", "name": "Kubernetes SIGs", "logo": { "@type": "ImageObject", "url": "https://avatars.githubusercontent.com/u/36015203?v=4" } }, "description": "Deployment with Helm Table of contents Deployment with Helm Prerequisites Deployment Configuration Uninstalling the chart Chart parameters General ..." } </script> <link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="next" href="https://kubernetes-sigs.github.com/node-feature-discovery-operator/master/deployment/manual.html"><link rel="canonical" href="https://kubernetes-sigs.github.com/node-feature-discovery-operator/master/deployment/helm.html"><link rel="icon" type="image/svg+xml" href="/node-feature-discovery-operator/master/assets/images/favicon.svg"><link rel="icon" type="image/png" href="/node-feature-discovery-operator/master/assets/images/favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="/node-feature-discovery-operator/master/assets/images/favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="/node-feature-discovery-operator/master/assets/images/favicon-96x96.png" sizes="96x96"><link rel="mask-icon" href="/node-feature-discovery-operator/master/assets/images/favicon.svg" color="#2980b9"><link rel="apple-touch-icon" href="/node-feature-discovery-operator/master/assets/images/apple-touch-icon-300x300.jpg"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/css/theme.min.css"><script> window.ui = { title: "Node Feature Discovery Operator", baseurl: "/node-feature-discovery-operator/master", i18n: { search_results: "Search Results", search_results_found: "Search finished, found # page(s) matching the search query.", search_results_not_found: "Your search did not match any documents, please make sure that all characters are spelled correctly!" } }; </script> </head> <body class="container"><div class="sidebar-wrap overflow-hidden"> <div class="sidebar height-full overflow-y-scroll overflow-x-hidden"> <div class="header d-flex flex-column p-3 text-center"> <div class="title pb-1"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/node-feature-discovery-operator/master/" title="Documentation of Node Feature Discovery Operator - an operator for managing detection of hardware features and configuration in a kubernetes cluster."> <i class="fa fa-home"></i> Node Feature Discovery Operator </a> </div> <span class="version">master</span> <form class="search pt-2" action="/node-feature-discovery-operator/master/search.html" method="get" autocomplete="off"> <input class="form-control input-block input-sm" type="text" name="q" placeholder="Search docs..."> </form> </div> <div class="toctree py-2" data-spy="affix" role="navigation" aria-label="main navigation"> <ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery-operator/master/introduction/"> Introduction </a><ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery-operator/master/deployment/"> Deployment </a><ul> <li class="toc level-1 current" data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline current" href="/node-feature-discovery-operator/master/deployment/helm.html">1. Helm</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery-operator/master/deployment/manual.html">2. Manual deployment</a> </li> <li class="toc level-1 " data-sort="4" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery-operator/master/deployment/cleanup.html">4. Cleanup</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery-operator/master/advanced/"> Advanced </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery-operator/master/advanced/developer-guide.html">1. Developer guide</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery-operator/master/advanced/nodefeaturediscovery.html">2. NodeFeatureDiscovery</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery-operator/master/contributing/"> Contributing </a><ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="https://kubernetes-sigs.github.io/node-feature-discovery/master"> Node Feature Discovery </a> </div> </div> </div> <div class="content-wrap"> <div class="header d-flex flex-justify-between p-2 hide-lg hide-xl" aria-label="top navigation"> <button id="toggle" aria-label="Toggle menu" class="btn-octicon p-2 m-0 text-white" type="button"> <i class="fa fa-bars"></i> </button> <div class="title flex-1 d-flex flex-justify-center"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/node-feature-discovery-operator/master/">Node Feature Discovery Operator</a> </div> </div> <div class="content p-3 p-sm-5"> <div class="navigation-top d-flex flex-justify-between"> <ul class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation"> <li class="breadcrumb-item"> <a class="no-underline" href="/node-feature-discovery-operator/master/" title="/"> <i class="fa fa-home"></i> </a> </li><li class="breadcrumb-item" ><a href="/node-feature-discovery-operator/master/deployment/">deployment</a></li><li class="breadcrumb-item" aria-current="page">helm.md</li></ul> <a class="edit" href="https://github.com/kubernetes-sigs/node-feature-discovery-operator/edit/gh-pages/deployment/helm.md" title="Edit on GitHub" rel="noreferrer" target="_blank"> <i class="fa fa-edit"></i> </a> </div> <hr> <div role="main" itemscope="itemscope" itemtype="https://schema.org/Article"> <div class="markdown-body" itemprop="articleBody"> <h1 id="deployment-with-helm">Deployment with Helm</h1> <h2 class="no_toc" id="table-of-contents">Table of contents</h2> <ol class="no_toc text-delta" id="markdown-toc"> <li><a href="#deployment-with-helm" id="markdown-toc-deployment-with-helm">Deployment with Helm</a> <ol> <li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a></li> <li><a href="#deployment" id="markdown-toc-deployment">Deployment</a></li> <li><a href="#configuration" id="markdown-toc-configuration">Configuration</a></li> <li><a href="#uninstalling-the-chart" id="markdown-toc-uninstalling-the-chart">Uninstalling the chart</a></li> <li><a href="#chart-parameters" id="markdown-toc-chart-parameters">Chart parameters</a> <ol> <li><a href="#general-parameters" id="markdown-toc-general-parameters">General parameters</a></li> <li><a href="#controller-deployment-parameters" id="markdown-toc-controller-deployment-parameters">Controller deployment parameters</a></li> </ol> </li> </ol> </li> </ol> <hr /> <p>Helm chart allow to easily deploy and manage the NFD-operator.</p> <blockquote> <p>NOTE: NFD-operator is not ideal for other Helm charts to depend on as that may result in multiple parallel NFD-operator deployments in the same cluster which is not fully supported by the NFD-operator Helm chart.</p> </blockquote> <h2 id="prerequisites">Prerequisites</h2> <p><a href="https://helm.sh/">Helm package manager</a> should be installed.</p> <h2 id="deployment">Deployment</h2> <p>To install the latest stable version:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">NFD_O_NS</span><span class="o">=</span>nfd-operator
helm repo add nfd-operator https://kubernetes-sigs.github.io/node-feature-discovery-operator/charts
helm repo update
helm <span class="nb">install </span>nfd-operator/nfd-operator <span class="nt">--namespace</span> <span class="nv">$NFD_O_NS</span> <span class="nt">--create-namespace</span> <span class="nt">--generate-name</span>
</code></pre>  </div></div> <p>To install the latest development version you need to clone the NFD-Operator Git repository and install from there.</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/kubernetes-sigs/node-feature-discovery-operator/
<span class="nb">cd </span>node-feature-discovery-operator/deployment/helm
<span class="nb">export </span><span class="nv">NFD_O_NS</span><span class="o">=</span>nfd-operator
helm <span class="nb">install </span>nfd-operator ./nfd-operator/ <span class="nt">--namespace</span> <span class="nv">$NFD_O_NS</span> <span class="nt">--create-namespace</span>
</code></pre>  </div></div> <p>See the <a href="#configuration">configuration</a> section below for instructions how to alter the deployment parameters.</p> <h2 id="configuration">Configuration</h2> <p>You can override values from <code class="language-plaintext highlighter-rouge notranslate">values.yaml</code> and provide a file with custom values:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">NFD_O_NS</span><span class="o">=</span>nfd-operator
helm <span class="nb">install </span>nfd-operator/nfd-operator <span class="nt">-f</span> &lt;path/to/custom/values.yaml&gt; <span class="nt">--namespace</span> <span class="nv">$NFD_O_NS</span> <span class="nt">--create-namespace</span>
</code></pre>  </div></div> <p>To specify each parameter separately you can provide them to helm install command:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">NFD_O_NS</span><span class="o">=</span>nfd-operator
helm <span class="nb">install </span>nfd-operator/nfd-operator <span class="nt">--set</span> <span class="nv">nameOverride</span><span class="o">=</span>NFDinstance <span class="nt">--namespace</span> <span class="nv">$NFD_O_NS</span> <span class="nt">--create-namespace</span>
</code></pre>  </div></div> <h2 id="uninstalling-the-chart">Uninstalling the chart</h2> <p>To uninstall the <code class="language-plaintext highlighter-rouge notranslate">nfd-operator</code> deployment:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">NFD_O_NS</span><span class="o">=</span>nfd-operator
helm uninstall nfd-operator <span class="nt">--namespace</span> <span class="nv">$NFD_O_NS</span>
</code></pre>  </div></div> <p>The command removes all the Kubernetes components associated with the chart and deletes the release.</p> <h2 id="chart-parameters">Chart parameters</h2> <p>In order to tailor the deployment of the Node Feature Discovery to your cluster needs We have introduced the following Chart parameters.</p> <h3 id="general-parameters">General parameters</h3> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Default</th> <th>description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge notranslate">image.repository</code></td> <td>string</td> <td><code class="language-plaintext highlighter-rouge notranslate">gcr.io/k8s-staging-nfd/node-feature-discovery-operator</code></td> <td>NFD image repository</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge notranslate">image.tag</code></td> <td>string</td> <td><code class="language-plaintext highlighter-rouge notranslate">master</code></td> <td>NFD image tag</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge notranslate">image.pullPolicy</code></td> <td>string</td> <td><code class="language-plaintext highlighter-rouge notranslate">Always</code></td> <td>Image pull policy</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge notranslate">imagePullSecrets</code></td> <td>list</td> <td>[]</td> <td>ImagePullSecrets is an optional list of references to secrets in the same namespace to use for pulling any of the images used by this PodSpec. If specified, these secrets will be passed to individual puller implementations for them to use. For example, in the case of docker, only DockerConfig type secrets are honored. <a href="https://kubernetes.io/docs/concepts/containers/images#specifying-imagepullsecrets-on-a-pod">More info</a></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge notranslate">nameOverride</code></td> <td>string</td> <td> </td> <td>Override the name of the chart</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge notranslate">fullnameOverride</code></td> <td>string</td> <td> </td> <td>Override a default fully qualified app name</td> </tr> </tbody> </table> <h3 id="controller-deployment-parameters">Controller deployment parameters</h3> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Default</th> <th>description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge notranslate">controller.image.repository</code></td> <td>string</td> <td><code class="language-plaintext highlighter-rouge notranslate">gcr.io/k8s-staging-nfd/node-feature-discovery-operator</code></td> <td>NFD-Operator image repository</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge notranslate">controller.image.tag</code></td> <td>string</td> <td><code class="language-plaintext highlighter-rouge notranslate">master</code></td> <td>NFD-Operator image tag</td> </tr> </tbody> </table> </div> </div> <div class="navigation-bottom d-flex flex-justify-between py-3" role="navigation" aria-label="footer navigation"> <div class="prev"></div> <div class="next"><a href="/node-feature-discovery-operator/master/deployment/manual.html" class="btn" title="Manual deployment" accesskey="n" rel="next"> Next <i class="fa fa-arrow-circle-right"></i> </a></div> </div><hr> <div class="copyright text-center text-gray" role="contentinfo"> <i class="fa fa-copyright"></i> <span class="time">2019-2024,</span> <a class="text-gray" href="https://github.com/kubernetes-sigs" rel="noreferrer" target="_blank">Kubernetes SIGs</a> Revision <a class="text-gray" href="https://github.com/kubernetes-sigs/node-feature-discovery-operator/commit/" title="" rel="noreferrer" target="_blank"></a> <br> <div class="generator"> Built with <a href="https://pages.github.com" rel="noreferrer" target="_blank" title="github-pages v209">GitHub Pages</a> using a <a href="https://github.com/rundocs/jekyll-rtd-theme" rel="noreferrer" target="_blank" title="rundocs/jekyll-rtd-theme v2.0.10">theme</a> provided by <a href="https://rundocs.io" rel="noreferrer" target="_blank">RunDocs</a>. </div> </div> </div> </div> <div class="addons-wrap d-flex flex-column overflow-y-auto"> <div class="status d-flex flex-justify-between p-2"> <div class="title p-1"> <i class="fa fa-book"></i> Node Feature Discovery Operator </div> <div class="branch p-1"> <span class="name"> master </span> <i class="fa fa-caret-down"></i> </div> </div> <div class="addons d-flex flex-column height-full p-2 d-none"> <dl id="versions"> <dt>Versions</dt> <script src="/node-feature-discovery-operator/versions.js"></script> <script> var dt = document.getElementById('versions'); var items = getVersionListItems(); for (var i=0; i < items.length; i++) { var dd = document.createElement('dd'); var a = dd.appendChild(document.createElement('a')); a.appendChild(document.createTextNode(items[i].name)); a.href = items[i].url; dt.appendChild(dd); } </script> </dl> <dl> <dt>GitHub</dt> <dd> <a href="https://github.com/kubernetes-sigs/node-feature-discovery-operator" title="Stars: 53"> <i class="fa fa-github"></i> Homepage </a> </dd> <dd> <a href="https://github.com/kubernetes-sigs/node-feature-discovery-operator/issues" title="Open issues: 4"> <i class="fa fa-question-circle-o"></i> Issues </a> </dd> <dd> <a href="https://github.com/kubernetes-sigs/node-feature-discovery-operator/zipball/gh-pages" title="Size: 4509 Kb"> <i class="fa fa-download"></i> Download </a> </dd> </dl> <hr> <div class="license f6 pb-2"> This <a href="/node-feature-discovery-operator/master/" title="Node Feature Discovery Operator">Software</a> is under the terms of <a href="https://github.com/kubernetes-sigs/node-feature-discovery-operator">Apache License 2.0</a>. </div> </div> </div> <script src="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/js/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/js/theme.min.js"></script> </body> </html>